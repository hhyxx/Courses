<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace = "com.qst.dao.Dept1Mapper">
	<resultMap id = "dept1ResultMapper" type = "com.qst.bean.Dept1" >
		<result column = "deptno" property = "deptno" />	
		<result column = "dname" property = "dname" />	
		<result column = "loc" property = "loc" />	
		
		<collection property = "emps" ofType = "com.qst.bean.Emp1" column="empno" >
			<result column = "empno" property = "empno" />	
			<result column = "ename" property = "ename" />	
			<result column = "job" property = "job" />			
		</collection>
						
	</resultMap>
	<select id = "queryDept1ById" resultMap = "dept1ResultMapper" >
		select empno, ename, job, e.deptno,d.deptno, dname, loc
		from emp e, dept d
		where e.deptno = d.deptno and e.deptno = #{empno}
	</select>	
	
</mapper>

